# 严格模式， "use strict"

很长一段时间里，JavaScript 都没有什么兼容性问题。新的特性加入语言中，旧的功能保持不变。

这样的优点是不会影响现存的代码，但是缺点也很明显：语言设计者们的任何失误或者考虑不周的决策都会一直影响着这门语言。

直到 2009 年 ECMAScript 5 (ES5) 标准的提出，加入了新特性也修改了已有的特性。为了让旧代码能继续工作，大部分改动都是默认不启用的。要启用新特性的话，需要加上一个特别的指令： `"use strict"`。

## "use strict"

这个指令可以是字符串 `"use strict"` 或 `'use strict'`。当它出现在脚本开始处，整个脚本都工作于 “现代” （严格）模式

例如：

```js
"use strict";

// 接下来的代码处于严格模式
...
```

我们很快就会学习函数（组合许多命令的一种方式）。

提前说一下，`"use strict"` 可以放在（大多数）函数的开始，这样函数内部便处于严格模式。不过通常开发者们倾向于给整个脚本文件开启严格模式。

````warn header="确保 \"use strict\" 在最顶部"
请确保 `"use strict"` 在脚本文件的最顶部，否则严格模式并不会被开启。

这种情况没开启严格模式：

```js no-strict
alert("some code");
// 下面的 "use strict" 被忽略了, 必须放在顶部才有用

"use strict";

// 严格模式没开启
```

只有注释能出现在 `"use strict"` 之前。
````

```warn header="`use strict` 是不能取消的"
并没有像 `"no use strict"` 这样的指令，让代码回到非严格模式。

严格模式一旦激活，就无法改变。
```

## 一直用 "use strict"

`严格模式` 与 “默认” 模式的区别还有待说明。

在下个章节中，我们开始学习语言特性，就会慢慢了解到严格模式的不一样。幸运的是，实际上没有太多的差别，但是却很大程度地改善了我们的编码体验。

现在大体上了解以下几点就够了：

1. `"use strict"` 指令可以让引擎切换到严格模式，改变某些内置的行为。我们会在接下来的学习中了解更多细节。
2. 脚本最顶部的 `"use strict"` 的指令会激活严格模式。其实使用某几个语言特性也会自动激活严格模式，比如：类（classes）和模块（modules）。
3. 严格模式可以被所有的的现代浏览器支持。
4. 推荐一直在脚本文件开始处加入 `"use strict"` 指令，本教程中所有的示例代码，除非特别说明，都默认是这样。
